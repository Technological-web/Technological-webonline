<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Periféricos - TeCHNOLOGI SGhc</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        body { background: #f5f5f5; font-family: 'Montserrat', sans-serif; }
        header { background: rgba(34,34,34,0.95); padding: 10px; position: sticky; top: 0; z-index: 1100; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
        header img { max-height: 45px; }
        header .form-control { border-radius: 25px; }
        header .btn { border-radius: 25px; }
        @font-face { font-family: 'AVP'; src: url('FUENTES/AVP.ttf') format('truetype'); }
        .logo-text { font-family: 'AVP', sans-serif; color: #E0FFFF; font-size: 2rem; font-weight: bold; margin-left: 15px; letter-spacing: 2px; text-shadow: 0 0 10px #FF8000, 0 0 20px #00FFFF; }
        .menu-container { position: relative; display: inline-block; margin-left: 8px; }
        .menu-btn { background: none; border: none; color: #E0FFFF; font-size: 1.6rem; cursor: pointer; outline: none; padding: 6px 8px; border-radius: 6px; transition: background .15s; }
        .menu-btn:hover { background: rgba(255,255,255,0.03); }
        .dropdown-menu { display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(18,18,18,0.98); border-radius: 8px; box-shadow: 0 6px 18px rgba(0,0,0,0.4); padding: 8px; min-width: 240px; z-index: 1500; }
        .dropdown-menu.active { display: block; }
        .dropdown-item { color: #E0FFFF; padding: 8px 10px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; border-radius: 6px; }
        .dropdown-item:hover { background: rgba(255,255,255,0.5); }
        .submenu { display: none; margin: 6px 0 10px 6px; border-left: 2px solid rgba(0,255,255,0.18); padding-left: 10px; }
        .submenu.active { display: block; }
        .submenu a { display: block; color: #E0FFFF; text-decoration: none; padding: 6px 0; font-size: 0.94rem; }
        .submenu a:hover { text-decoration: underline; color: #E0FFFF; }
		.toggle-submenu { color: #E0FFFF; font-size: 1.05rem; text-decoration: none; border: none; background: transparent; cursor: pointer; padding: 0; line-height: 1; }
        .filter-sidebar { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .filter-sidebar h2 { font-weight: 700; font-size: 1.6rem; margin-bottom: 15px; }
        .filter-actions .btn { border-radius: 8px; font-weight: 600; padding: 8px 15px; margin: 0 5px; }
        .btn-limpiar { background: #222; color: #fff; }
        .btn-filtrar { background: #ff6815; color: #fff; }
        .filter-group { margin-bottom: 25px; padding-top: 15px; border-top: 1px solid #eee; }
        .filter-checkbox-list { max-height: 200px; overflow-y: auto; border: 1px solid #ddd; border-radius: 6px; padding: 5px 10px; }
        .filter-checkbox-list label { display: block; padding: 8px 0; cursor: pointer; border-bottom: 1px solid #eee; }
        .filter-checkbox-list label:last-child { border-bottom: none; }
        .filter-checkbox-list input[type="checkbox"] { margin-right: 10px; accent-color: #ff6815; }
        .product-img { width: 100%; height: 220px; object-fit: contain; padding: 10px; background: #fff; border-radius: 8px; }
        .price { font-weight: bold; color: #28a745; }
        .card { border: none; border-radius: 12px; overflow: hidden; box-shadow: 0 3px 8px rgba(0,0,0,0.15); transition: transform .2s, box-shadow .2s; height: 100%; display: flex; flex-direction: column; }
        .card:hover { transform: scale(1.04); box-shadow: 0 5px 15px rgba(0,0,0,0.25); }
        .card-body { flex-grow: 1; justify-content: space-between; display: flex; flex-direction: column; }
        .btn-primary { background: #ff6815; border: none; border-radius: 20px; padding: 6px 15px; transition: background .3s; margin-top: 10px; }
        .btn-primary:hover { background: #e05510; }
        footer { background: #222; color: #fff; padding: 25px 0; margin-top: 50px; }
        footer a { color: #ff6815; text-decoration: none; transition: color .3s; }
        footer .list-unstyled a { color: #fff; }
        footer .list-unstyled a:hover { color: #ff6815 !important; text-decoration: underline; }
        footer .fab { font-size: 1.3rem; margin: 0 10px; color: #fff; }
        footer a.fab:hover { color: #ff6815; }
        @media (max-width: 992px) { header .w-50 { width: 100% !important; margin-top: 10px; } }
    </style>
</head>
<body>

<header class="d-flex justify-content-between align-items-center container-fluid">
    <a href="index.html" class="d-flex align-items-center text-decoration-none">
        <img src="IMAGENES/LOGO-EMPRESA.png" alt="Logo encabezado">
        <span class="logo-text">TeCHNOLOGI SGhc</span>
    </a>
    <div class="d-flex align-items-center w-50">
            <div class="menu-container mr-2">
                <button class="menu-btn" id="menuToggle" aria-expanded="false" aria-label="Abrir menú"><strong><em>☰</em></strong></button>

                <div class="dropdown-menu" id="dropdownMenu" role="menu" aria-hidden="true">
					  <a class="dropdown-item" href="index.html">Inicio</a>
                    <div class="dropdown-item">
                        Productos
                        <button class="toggle-submenu" aria-expanded="false">+</button>
                    </div>
                    <div class="submenu">
                        <a href="ofertas.html">Ofertas</a>
                        <a href="laptos.html">Equipos</a>
                        <a href="accesorios.html">Accesorios</a>
                    </div>

                    <div class="dropdown-item">
                        Información de la empresa
                        <button class="toggle-submenu" aria-expanded="false">+</button>
                    </div>
                    <div class="submenu">
                        <a href="nosotros.html">Sobre Nosotros</a>
                        <a href="nosotros.html">Misión y Visión</a>
                       
                  </div>

                    <div class="dropdown-item">
                        Métodos de contacto
                        <button class="toggle-submenu" aria-expanded="false">+</button>
                    </div>
                    <div class="submenu">
                        <a href="contactos.html">Dirección</a>
                        <a href="contactos.html">Correo para contactos</a>
                        <a href="contactos.html">Números de contacto</a>
                    </div>
                </div>
            </div>
        <form class="form-inline w-100 mr-2 mb-0" onsubmit="handleSearch(event)">
            <input class="form-control w-100" type="search" id="searchInput" placeholder="Buscar periféricos...">
            <button type="submit" style="display: none;"></button>
        </form>
    </div>
    <div class="d-flex align-items-center">
        <a href="carrito.html" class="btn btn-warning" id="cartBtn">Carrito (0)</a>
    </div>
</header>

<div class="container my-4">
    <div class="container categories text-center mb-5">
        <a href="laptos.html" class="btn btn-secondary">Laptops</a>
        <a href="accesorios.html" class="btn btn-secondary">Accesorios</a>
        <a href="impresoras.html" class="btn btn-secondary">Impresoras</a>
        <a href="#" class="btn btn-dark">Periféricos</a>
        <a href="ofertas.html" class="btn btn-danger">Ofertas</a>
    </div>
</div>

<div class="container main-content">
    <div class="row">
        <div class="col-md-3 mb-4">
            <div class="filter-sidebar">
                <h2>Filtros</h2>
                <div class="filter-actions d-flex justify-content-between mb-4">
                    <button class="btn btn-limpiar"><i class="fas fa-redo-alt mr-1"></i> Limpiar</button>
                    <button class="btn btn-filtrar" id="filterButton"><i class="fas fa-filter mr-1"></i> Filtrar</button>
                </div>
                <div class="filter-group">
                    <label class="font-weight-bold">Categoría</label>
                    <div class="filter-checkbox-list" id="brandFilterList">
                        <label><input type="checkbox" name="marca" value="mouse"> Mouse</label>
                        <label><input type="checkbox" name="marca" value="teclado"> Teclados</label>
                        <label><input type="checkbox" name="marca" value="audifono"> Audífonos</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-9">
            <h1 class="mb-4" id="product-title">Periféricos</h1>
            <div class="row" id="productList"></div>
        </div>
    </div>
</div>

<footer class="container-fluid"></footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const allProducts = [
        // MOUSE
    { id: 1, nombre: 'Mouse Logitech G203 LIGHTSYNC', precio: 129, imagen: 'IMAGENES/Perifericos/MOUSE1.jpg', marca: 'mouse' },
    { id: 2, nombre: 'Mouse Redragon M711 Cobra', precio: 110, imagen: 'IMAGENES/Perifericos/MOUSE2.jpg', marca: 'mouse' },
    { id: 3, nombre: 'Mouse Razer DeathAdder Essential', precio: 149, imagen: 'IMAGENES/Perifericos/MOUSE3.jpg', marca: 'mouse' },
    { id: 4, nombre: 'Mouse HyperX Pulsefire Core', precio: 199, imagen: 'IMAGENES/Perifericos/MOUSE4.jpg', marca: 'mouse' },
    { id: 5, nombre: 'Mouse Corsair Harpoon RGB', precio: 139, imagen: 'IMAGENES/Perifericos/MOUSE5.jpg', marca: 'mouse' },

    //  TECLADOS
    { id: 6, nombre: 'Teclado Mecánico Redragon Kumara K552', precio: 169, imagen: 'IMAGENES/Perifericos/TECLADO1.jpg', marca: 'teclado' },
    { id: 7, nombre: 'Teclado Logitech G213 Prodigy', precio: 249, imagen: 'IMAGENES/Perifericos/TECLADO2.jpg', marca: 'teclado' },
    { id: 8, nombre: 'Teclado HyperX Alloy Origins Core', precio: 329, imagen: 'IMAGENES/Perifericos/TECLADO3.jpg', marca: 'teclado' },
    { id: 9, nombre: 'Teclado Razer BlackWidow V3', precio: 399, imagen: 'IMAGENES/Perifericos/TECLADO4.jpg', marca: 'teclado' },
    { id: 10, nombre: 'Teclado Corsair K55 RGB PRO', precio: 269, imagen: 'IMAGENES/Perifericos/TECLADO5.jpg', marca: 'teclado' },

    //  AUDÍFONOS
    { id: 11, nombre: 'Audífonos HyperX Cloud II', precio: 399, imagen: 'IMAGENES/Perifericos/AUDIFONO1.jpg', marca: 'audifono' },
    { id: 12, nombre: 'Audífonos Logitech G733 Lightspeed', precio: 499, imagen: 'IMAGENES/Perifericos/AUDIFONO2.jpg', marca: 'audifono' },
    { id: 13, nombre: 'Audífonos Razer Kraken X', precio: 279, imagen: 'IMAGENES/Perifericos/AUDIFONO3.jpg', marca: 'audifono' },
    { id: 14, nombre: 'Audífonos Corsair HS60 PRO', precio: 359, imagen: 'IMAGENES/Perifericos/AUDIFONO4.jpg', marca: 'audifono' },
    { id: 15, nombre: 'Audífonos Redragon Zeus X H510', precio: 319, imagen: 'IMAGENES/Perifericos/AUDIFONO5.jpg', marca: 'audifono' },
];
	const menuToggle = document.getElementById('menuToggle');
            const dropdownMenu = document.getElementById('dropdownMenu');
            const submenuToggles = document.querySelectorAll('.toggle-submenu');
            const menuContainer = document.querySelector('.menu-container');
            menuToggle.addEventListener('click', (e) => { e.stopPropagation(); dropdownMenu.classList.toggle('active'); });
            submenuToggles.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const submenu = btn.parentElement.nextElementSibling;
                    submenu.classList.toggle('active');
                });
            });
            document.addEventListener('click', (e) => { if (!menuContainer.contains(e.target)) { dropdownMenu.classList.remove('active'); } });
	

    const productListContainer = document.getElementById('productList');
    const productTitle = document.getElementById('product-title');
    const filterBtn = document.getElementById('filterButton');
    const clearBtn = document.querySelector('.btn-limpiar');
    const brandCheckboxes = document.querySelectorAll('#brandFilterList input[type="checkbox"]');

    function renderProducts(products) {
        productListContainer.innerHTML = '';
        if (products.length === 0) {
            productListContainer.innerHTML = '<p class="col-12">No se encontraron productos.</p>';
        } else {
            products.forEach(p => {
                productListContainer.innerHTML += `
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card p-2">
                            <img src="${p.imagen}" class="card-img-top product-img" alt="${p.nombre}">
                            <div class="card-body text-center">
                                <p class="card-text">${p.nombre}</p>
                                <p class="price">S/ ${p.precio.toLocaleString('es-PE')}</p>
                                <button class="btn btn-sm btn-primary add-to-cart-btn" data-id="${p.id}">Agregar al carrito</button>
                            </div>
                        </div>
                    </div>`;
            });
        }
        productTitle.textContent = `Periféricos (${products.length})`;
        addEventListenersToCartButtons();
    }

    const applyFilters = () => {
        const selectedBrands = Array.from(brandCheckboxes).filter(c => c.checked).map(c => c.value);
        const filtered = allProducts.filter(p => selectedBrands.length === 0 || selectedBrands.includes(p.marca));
        renderProducts(filtered);
    };
    const clearFilters = () => {
        brandCheckboxes.forEach(c => c.checked = false);
        renderProducts(allProducts);
    };
    filterBtn.addEventListener('click', applyFilters);
    clearBtn.addEventListener('click', clearFilters);


    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartBtn = document.getElementById('cartBtn');
    function updateCartCount() {
        const total = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartBtn.textContent = `Carrito (${total})`;
    }
    function addToCart(id) {
        const p = allProducts.find(p => p.id === id);
        if (!p) return;
        const existing = cart.find(i => i.id === p.id);
        if (existing) existing.quantity++;
        else cart.push({ ...p, quantity: 1 });
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        alert(`✅ "${p.nombre}" agregado al carrito.`);
    }
    function addEventListenersToCartButtons() {
        document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
            if (btn.dataset.listenerAttached) return;
            btn.addEventListener('click', () => addToCart(parseInt(btn.dataset.id)));
            btn.dataset.listenerAttached = 'true';
        });
    }

    renderProducts(allProducts);
    updateCartCount();
});
	function handleSearch(event) {
            event.preventDefault();
            const query = document.getElementById('searchInput').value.trim();
            if (query) {
                window.location.href = `resultados.html?q=${encodeURIComponent(query)}`;
            } else {
                alert("Por favor, ingresa un término de búsqueda.");
            }
        }
</script>
</body>
</html>
